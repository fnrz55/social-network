"use strict";(self.webpackChunkm1=self.webpackChunkm1||[]).push([[454],{717:(e,s,t)=>{t.r(s),t.d(s,{default:()=>O});var r=t(867);const i="Content_profile__DLh5-";var a=t(677);const o="MyPosts_myPosts__Y+IAi",n="MyPosts_input__UULO8",l="MyPosts_newPost__iH-k+",c="MyPosts_sort__qg0gC",d="Post_item__DXU-9",p="Post_container__d4sLv",u="Post_avatar__7INMX",f="Post_name__8snA8",h="Post_text__cIk+q",x="Post_feedback__AfHnW",m="Post_likes__5D6hy",j="Post_comment__6c3Qx";const v=t.p+"static/media/thumbs-up.ad79caddb88f6f79135ee2309d0db4d1.svg";const _=t.p+"static/media/Vector.63483f28a39f4495f5e5b11bb34104f8.svg";var g=t(834);const P=e=>(0,g.jsxs)("div",{className:d,children:[(0,g.jsxs)("div",{className:p,children:[(0,g.jsx)("div",{className:u,children:(0,g.jsx)("img",{src:"https://i.pinimg.com/736x/4f/1f/ab/4f1fabcce701473344138eb41fce144d.jpg",alt:""})}),(0,g.jsx)("div",{className:f,children:"Aristarh P."})]}),(0,g.jsx)("div",{className:h,children:(0,g.jsx)("p",{children:e.text})}),(0,g.jsxs)("div",{className:x,children:[(0,g.jsx)("div",{className:m,children:(0,g.jsxs)("button",{children:[(0,g.jsx)("img",{src:v,alt:""}),(0,g.jsx)("span",{children:e.likesCount})]})}),(0,g.jsx)("div",{className:j,children:(0,g.jsxs)("button",{children:[(0,g.jsx)("img",{src:_,alt:""}),(0,g.jsx)("span",{children:"0"})]})})]})]});var b=t(108),k=t(811);const N=e=>{const{register:s,handleSubmit:t,reset:r,formState:{errors:i,isValid:a}}=(0,k.cI)();return(0,g.jsx)("div",{children:(0,g.jsxs)("form",{onSubmit:t((s=>{e.onSubmit(s.post),r()})),children:[(0,g.jsx)("div",{className:n,children:(0,g.jsx)("input",{...s("post",{required:!0}),autoComplete:"off",placeholder:"Whats new?"})}),(0,g.jsx)("div",{children:a&&(0,g.jsx)("button",{children:(0,g.jsx)("img",{src:b.Z,alt:""})})})]})})},I=e=>{let s=e.posts.map((e=>(0,g.jsx)(P,{text:e.text,likesCount:e.likesCount})));return(0,g.jsxs)("div",{className:o,children:[(0,g.jsxs)("div",{className:l,children:[(0,g.jsx)("p",{children:"NEW POST"}),(0,g.jsx)(N,{onSubmit:e.addPost})]}),(0,g.jsx)("div",{className:c,children:(0,g.jsx)("div",{children:" SORT BY TRENDING"})}),s]})};var M=t(436);const S=(0,M.$j)((e=>({posts:e.profilePage.posts,newPostsText:e.profilePage.newPostsText,profile:e.profilePage.profile})),{addPost:a.q2})(I),C={profile:"ProfileInfo_profile__HFwGe",backgroundCont:"ProfileInfo_backgroundCont__EG7k5",background:"ProfileInfo_background__4UpvX",avatarHoverCont:"ProfileInfo_avatarHoverCont__Mckas",avatarPic:"ProfileInfo_avatarPic__FG+9h",container:"ProfileInfo_container__GevTD",name:"ProfileInfo_name__aeTQW",descriptipon:"ProfileInfo_descriptipon__5fTXa",friendsBlock:"ProfileInfo_friendsBlock__zcB9E",friends:"ProfileInfo_friends__8pppx",upload:"ProfileInfo_upload__TfhMB",edit:"ProfileInfo_edit__zxq1f",descriptionWrapper:"ProfileInfo_descriptionWrapper__AZnJA"};var A=t(644);const w="Friend_friend__XFDMe",F="Friend_name__M4omF",y=e=>(0,g.jsx)("div",{className:w,children:(0,g.jsxs)(A.rU,{target:"_blank",to:"/profile/".concat(e.id),children:[(0,g.jsx)("img",{src:e.avatar?e.avatar:"https://i.pinimg.com/564x/06/a0/59/06a059e6ef315c59c3eb07dfb54e27d2.jpg",alt:""}),(0,g.jsx)("div",{className:F,children:e.name})]})});var D=t(62);const U=e=>{let[s,t]=(0,r.useState)(!1),[i,a]=(0,r.useState)(e.status);return(0,g.jsxs)("div",{children:[!s&&(0,g.jsx)("div",{children:(0,g.jsx)("span",{onDoubleClick:()=>{t(!0)},children:e.status?e.status:"Write something about urself..."})}),s&&(0,g.jsx)("div",{children:(0,g.jsx)("input",{autoFocus:!0,onChange:e=>{a(e.currentTarget.value)},onBlur:()=>{t(!1),e.updateStatus(i)},value:i,type:"text"})})]})},J=e=>{let{handleRedactProfile:s,profile:t,saveProfile:r,...i}=e;const{register:a,handleSubmit:o,reset:n,formState:{errors:l,isValid:c}}=(0,k.cI)({mode:"onBlur",defaultValues:{fullName:t.fullName,aboutMe:t.aboutMe,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,"contacts.vk":t.contacts.vk,"contacts.instagram":t.contacts.instagram}});return(0,g.jsxs)("form",{onSubmit:o((e=>{r(e).then((()=>{s()}))})),children:[(0,g.jsx)("p",{children:"Your name:"}),(0,g.jsx)("input",{type:"text",...a("fullName",{required:"Enter ur name"})}),(0,g.jsx)("p",{children:"Your self description:"}),(0,g.jsx)("input",{type:"text",...a("aboutMe")}),(0,g.jsx)("p",{children:"Your work description:"}),(0,g.jsx)("input",{type:"checkbox",...a("lookingForAJob")}),(0,g.jsx)("input",{type:"text",...a("lookingForAJobDescription")}),(0,g.jsx)("p",{children:"Your vk link:"}),(0,g.jsx)("input",{type:"text",...a("contacts.vk",{pattern:{value:/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/,message:"Invalid URL"}})}),(0,g.jsx)("p",{children:"Your inst link:"}),(0,g.jsx)("input",{type:"text",...a("contacts.instagram",{pattern:{value:/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/,message:"Invalid URL"}})}),(0,g.jsx)("div",{className:"error",children:i.errorMessage&&(0,g.jsx)("p",{children:i.errorMessage})}),(0,g.jsx)("input",{type:"submit"})]})},R=t.p+"static/media/settings-icon-2048x2046-cw28eevx.4362758ca66cda2c105c.png",T=e=>{let{userProfile:s,updateStatus:t,status:r,isOwner:i,handleRedactProfile:a}=e;return(0,g.jsxs)("div",{className:C.descriptionWrapper,children:[i&&(0,g.jsx)("button",{className:C.edit,onClick:a,children:(0,g.jsx)("img",{src:R,alt:""})}),r&&(0,g.jsx)(U,{updateStatus:t,status:r}),s.aboutMe&&(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{children:"Description: "})," ",s.aboutMe]}),s.contacts.vk&&(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{children:"\u0412\u041a: "})," ",s.contacts.vk]}),s.contacts.instagram&&(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{children:"instagram: "})," ",s.contacts.instagram]}),s.lookingForAJob&&(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{children:"\u041f\u0440\u043e\u0441\u044c\u0431\u044b \u043e \u0440\u0430\u0431\u043e\u0442\u0435: "})," ",s.lookingForAJobDescription]})]})},E=e=>{const[s,t]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),o=()=>{t(!s)};let n=e.friends.map((e=>(0,g.jsx)(y,{avatar:e.photos.small,id:e.id,name:e.name},e.id)));if(!e.userProfile)return(0,g.jsx)(D.Z,{});return(0,g.jsxs)("div",{className:C.profile,children:[(0,g.jsxs)("div",{className:C.backgroundCont,children:[(0,g.jsx)("div",{className:C.background,children:(0,g.jsx)("img",{src:"https://i.pinimg.com/564x/15/8a/1b/158a1b79e4f7559b48067da9369c38cb.jpg"})}),(0,g.jsxs)("div",{className:C.avatarHoverCont,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[(0,g.jsx)("div",{className:C.avatarPic,children:(0,g.jsx)("img",{src:null!=e.userProfile.photos.large?e.userProfile.photos.large:"https://i.pinimg.com/564x/06/a0/59/06a059e6ef315c59c3eb07dfb54e27d2.jpg"})}),e.owner&&i&&s&&(0,g.jsxs)("div",{className:C.upload,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[(0,g.jsx)("label",{htmlFor:"file",children:"Uoload new photo"})," ",(0,g.jsx)("input",{id:"file",type:"file",onChange:s=>{s.target.files.length&&e.savePhoto(s.target.files[0])}})]})]})]}),(0,g.jsx)("div",{className:C.container,children:(0,g.jsxs)("div",{className:C.info,children:[!s&&(0,g.jsx)("div",{className:C.name,children:e.userProfile.fullName}),(0,g.jsx)("div",{className:C.descriptipon,children:s?(0,g.jsx)(J,{profile:e.userProfile,saveProfile:e.saveProfile,handleRedactProfile:o,errorMessage:e.errorMessage}):(0,g.jsx)(T,{userProfile:e.userProfile,isOwner:e.owner,handleRedactProfile:o,status:e.status,updateStatus:e.updateStatus})})]})}),(0,g.jsxs)("div",{on:!0,className:C.friendsBlock,children:[(0,g.jsx)("h3",{children:"MY FRIENDS "}),(0,g.jsx)("div",{className:C.friends,children:n.slice(0,6)})]})]})};var $=t(152);const B=(0,M.$j)((e=>({friends:(0,$.$J)(e),userProfile:e.profilePage.userProfile,status:e.profilePage.status,errorMessage:e.profilePage.errorMessage})),{updateStatus:a.Nf,savePhoto:a.Ju,saveProfile:a.Ii})(E),W=e=>(0,g.jsxs)("div",{className:i,children:[(0,g.jsx)(S,{}),(0,g.jsx)(B,{owner:e.owner})]});var Y=t(515),q=t(577),L=t(641),H=t(336),X=t(44);class G extends r.Component{refreshProfile(){let e=this.props.router.params.userId;e||(e=this.props.id,e||(e=this.props.router.navigate("/login"))),this.props.getProfile(e),this.props.getUsersStatus(e),this.props.getUsers(1,100)}componentDidMount(){this.refreshProfile()}componentDidUpdate(e){this.props.router.params.userId!=e.router.params.userId&&this.refreshProfile()}render(){return(0,g.jsx)(W,{...this.props,owner:!this.props.router.params.userId,profile:this.props.profile})}}const O=(0,q.qC)((0,M.$j)((e=>({profile:e.profilePage.userProfile,friends:(0,$.$J)(e),status:e.profilePage.status,id:e.auth.userId,isAuth:e.auth.isAuth})),{getProfile:a.Ai,getUsers:L.Rf,getUsersStatus:a.tX,updateStatus:a.Nf,getUserAuth:H.vu}),Y.N,X.E)(G)}}]);
//# sourceMappingURL=454.f4d5a9fa.chunk.js.map